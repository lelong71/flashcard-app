{"ast":null,"code":"import React,{useCallback,useState,useEffect,useRef}from'react';import{motion,AnimatePresence}from'framer-motion';import{Box,VStack,HStack,Heading,Text,Button,Icon,Alert,AlertIcon,AlertTitle,AlertDescription,useToast,Badge,Divider,useColorModeValue,SimpleGrid,Modal,ModalOverlay,ModalContent,ModalHeader,ModalBody,ModalCloseButton,useDisclosure}from'@chakra-ui/react';import{Upload,FileText,FolderOpen,RefreshCw,Plus}from'lucide-react';import{useFlashcard}from'../contexts/FlashcardContext';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export function UploadSection(){const{state,dispatch}=useFlashcard();const[isDragOver,setIsDragOver]=useState(false);const[availableSets,setAvailableSets]=useState([]);const[selectedSet,setSelectedSet]=useState('');const[isScanning,setIsScanning]=useState(false);const{isOpen,onOpen,onClose}=useDisclosure();const toast=useToast();const selectedSetRef=useRef('');const bgColor=useColorModeValue('white','gray.800');const borderColor=useColorModeValue('gray.200','gray.700');const scanForFlashcardSets=useCallback(async()=>{setIsScanning(true);try{// Load the metadata file to get organized flashcard sets\nconst metadataResponse=await fetch('/flashcard-data/sets-metadata.json');if(!metadataResponse.ok){throw new Error(\"Could not load flashcard sets metadata: \".concat(metadataResponse.status,\" \").concat(metadataResponse.statusText));}// Check if the response is actually JSON\nconst contentType=metadataResponse.headers.get('content-type');if(!contentType||!contentType.includes('application/json')){const text=await metadataResponse.text();if(text.includes('<!DOCTYPE')){throw new Error('Received HTML instead of JSON. The flashcard-data files may not be accessible from the current server.');}throw new Error(\"Expected JSON but received: \".concat(contentType));}const metadata=await metadataResponse.json();const availableSets=[];// Check which files actually exist\nfor(const set of metadata.flashcard_sets){try{const response=await fetch(\"/flashcard-data/\".concat(set.filename));if(response.ok){// Verify it's actually JSON\nconst fileContentType=response.headers.get('content-type');if(fileContentType&&fileContentType.includes('application/json')){availableSets.push(set);}}}catch(error){// File not found or error checking file\n}}setAvailableSets(availableSets);// Auto-select the first set if available and no set is currently selected\nif(availableSets.length>0&&!selectedSetRef.current){setSelectedSet(availableSets[0].filename);selectedSetRef.current=availableSets[0].filename;}}catch(error){setAvailableSets([]);// Show a more helpful error message\ntoast({title:'Flashcard Data Not Found',description:error instanceof Error?error.message:'Could not load flashcard data. Please ensure the flashcard-data folder is accessible.',status:'warning',duration:8000,isClosable:true});}finally{setIsScanning(false);}},[toast]);const loadSelectedSet=useCallback(async filename=>{if(!filename)return;dispatch({type:'SET_LOADING',payload:true});dispatch({type:'SET_ERROR',payload:null});try{// Load the actual JSON file from the flashcard-data folder\nconst response=await fetch(\"/flashcard-data/\".concat(filename));if(!response.ok){throw new Error(\"HTTP error! status: \".concat(response.status));}// Check if the response is actually JSON\nconst contentType=response.headers.get('content-type');if(!contentType||!contentType.includes('application/json')){const text=await response.text();if(text.includes('<!DOCTYPE')){throw new Error('Received HTML instead of JSON. The flashcard-data files may not be accessible from the current server.');}throw new Error(\"Expected JSON but received: \".concat(contentType));}const data=await response.json();if(!data.flashcards||!Array.isArray(data.flashcards)){throw new Error('Invalid JSON format: missing flashcards array');}if(data.flashcards.length===0){throw new Error('No flashcards found in the JSON file');}dispatch({type:'SET_FLASHCARDS',payload:data.flashcards});dispatch({type:'SET_METADATA',payload:data.metadata||{}});// Find and set the current set information\ntry{const metadataResponse=await fetch('/flashcard-data/sets-metadata.json');if(metadataResponse.ok){const setsMetadata=await metadataResponse.json();const currentSet=setsMetadata.flashcard_sets.find(set=>set.filename===filename);if(currentSet){dispatch({type:'SET_CURRENT_SET',payload:currentSet});}}}catch(error){// Could not load set metadata\n}toast({title:'Success!',description:\"Loaded \".concat(data.flashcards.length,\" flashcards from \").concat(filename),status:'success',duration:3000,isClosable:true});}catch(error){const errorMessage=\"Failed to load \".concat(filename,\": \").concat(error instanceof Error?error.message:'Unknown error');dispatch({type:'SET_ERROR',payload:errorMessage});toast({title:'Error loading file',description:errorMessage,status:'error',duration:5000,isClosable:true});}finally{dispatch({type:'SET_LOADING',payload:false});}},[dispatch,toast]);// Scan for flashcard sets on component mount\nuseEffect(()=>{scanForFlashcardSets();},[scanForFlashcardSets]);// Load selected set when it changes\nuseEffect(()=>{if(selectedSet){loadSelectedSet(selectedSet);}},[selectedSet,loadSelectedSet]);const handleFileUpload=useCallback(async file=>{if(!file.name.endsWith('.json')){toast({title:'Invalid file type',description:'Please select a JSON file',status:'error',duration:5000,isClosable:true});return;}dispatch({type:'SET_LOADING',payload:true});dispatch({type:'SET_ERROR',payload:null});try{const text=await file.text();const data=JSON.parse(text);if(!data.flashcards||!Array.isArray(data.flashcards)){throw new Error('Invalid JSON format: missing flashcards array');}if(data.flashcards.length===0){throw new Error('No flashcards found in the JSON file');}dispatch({type:'SET_FLASHCARDS',payload:data.flashcards});dispatch({type:'SET_METADATA',payload:data.metadata||{}});toast({title:'Success!',description:\"Loaded \".concat(data.flashcards.length,\" flashcards from \").concat(file.name),status:'success',duration:3000,isClosable:true});onClose();// Close the upload modal\n}catch(error){const errorMessage=\"Failed to load JSON file: \".concat(error instanceof Error?error.message:'Unknown error');dispatch({type:'SET_ERROR',payload:errorMessage});toast({title:'Error loading file',description:errorMessage,status:'error',duration:5000,isClosable:true});}},[dispatch,toast,onClose]);const handleDrop=useCallback(e=>{e.preventDefault();setIsDragOver(false);const files=e.dataTransfer.files;if(files.length>0){handleFileUpload(files[0]);}},[handleFileUpload]);const handleDragOver=useCallback(e=>{e.preventDefault();setIsDragOver(true);},[]);const handleDragLeave=useCallback(e=>{e.preventDefault();setIsDragOver(false);},[]);const handleFileInput=useCallback(e=>{var _e$target$files;const file=(_e$target$files=e.target.files)===null||_e$target$files===void 0?void 0:_e$target$files[0];if(file){handleFileUpload(file);}},[handleFileUpload]);const handleSetSelect=useCallback(filename=>{setSelectedSet(filename);selectedSetRef.current=filename;loadSelectedSet(filename);},[loadSelectedSet]);// If we have flashcards loaded, show a minimal upload button\nif(state.flashcards.length>0){return/*#__PURE__*/_jsxs(Box,{position:\"fixed\",bottom:6,right:6,zIndex:1000,children:[/*#__PURE__*/_jsx(motion.div,{whileHover:{scale:1.05},whileTap:{scale:0.95},children:/*#__PURE__*/_jsx(Button,{colorScheme:\"brand\",size:\"lg\",rounded:\"full\",leftIcon:/*#__PURE__*/_jsx(Icon,{as:Plus}),onClick:onOpen,boxShadow:\"lg\",children:\"Add More Sets\"})}),/*#__PURE__*/_jsxs(Modal,{isOpen:isOpen,onClose:onClose,size:\"lg\",children:[/*#__PURE__*/_jsx(ModalOverlay,{}),/*#__PURE__*/_jsxs(ModalContent,{children:[/*#__PURE__*/_jsx(ModalHeader,{children:\"\\uD83D\\uDCE4 Upload New Flashcard Set\"}),/*#__PURE__*/_jsx(ModalCloseButton,{}),/*#__PURE__*/_jsx(ModalBody,{pb:6,children:/*#__PURE__*/_jsxs(VStack,{spacing:6,children:[/*#__PURE__*/_jsx(Text,{color:\"gray.600\",children:\"Upload a JSON file created by the PDF converter tool\"}),/*#__PURE__*/_jsx(Box,{borderWidth:2,borderStyle:\"dashed\",borderColor:isDragOver?\"blue.500\":\"gray.300\",bg:isDragOver?\"blue.50\":\"transparent\",rounded:\"lg\",p:8,transition:\"all 0.2s\",_hover:{borderColor:\"gray.400\"},onDrop:handleDrop,onDragOver:handleDragOver,onDragLeave:handleDragLeave,w:\"100%\",children:/*#__PURE__*/_jsxs(VStack,{spacing:4,children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"jsonFile\",style:{cursor:'pointer'},children:/*#__PURE__*/_jsx(motion.div,{whileHover:{scale:1.05},whileTap:{scale:0.95},children:/*#__PURE__*/_jsx(Button,{colorScheme:\"brand\",size:\"lg\",leftIcon:/*#__PURE__*/_jsx(Icon,{as:Upload}),children:\"Choose JSON File\"})})}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",id:\"jsonFile\",accept:\".json\",style:{display:'none'},onChange:handleFileInput}),/*#__PURE__*/_jsx(Text,{fontSize:\"sm\",color:\"gray.500\",children:\"or drag and drop JSON file here\"})]})}),/*#__PURE__*/_jsx(AnimatePresence,{children:state.error&&/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:'auto'},exit:{opacity:0,height:0},style:{width:'100%'},children:/*#__PURE__*/_jsxs(Alert,{status:\"error\",rounded:\"lg\",children:[/*#__PURE__*/_jsx(AlertIcon,{}),/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsx(AlertTitle,{children:\"Error Loading File\"}),/*#__PURE__*/_jsx(AlertDescription,{children:state.error})]})]})})})]})})]})]})]});}// If we're still scanning for files, show a loading state\nif(isScanning){return/*#__PURE__*/_jsx(Box,{bg:bgColor,rounded:\"lg\",shadow:\"lg\",p:8,mb:8,borderWidth:\"1px\",borderColor:borderColor,textAlign:\"center\",children:/*#__PURE__*/_jsxs(VStack,{spacing:4,children:[/*#__PURE__*/_jsx(Icon,{as:FolderOpen,w:12,h:12,color:\"blue.500\"}),/*#__PURE__*/_jsx(Text,{fontSize:\"lg\",color:\"gray.600\",children:\"Loading your flashcard sets...\"})]})});}// If no flashcards are loaded, show the full upload interface\nreturn/*#__PURE__*/_jsx(AnimatePresence,{children:/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:0.5},style:{width:'100%'},children:/*#__PURE__*/_jsx(Box,{bg:bgColor,rounded:\"lg\",shadow:\"lg\",p:8,mb:8,borderWidth:\"1px\",borderColor:borderColor,children:/*#__PURE__*/_jsxs(VStack,{spacing:6,textAlign:\"center\",children:[/*#__PURE__*/_jsx(motion.div,{initial:{scale:0},animate:{scale:1},transition:{delay:0.2,type:\"spring\",stiffness:200},children:/*#__PURE__*/_jsx(Icon,{as:FolderOpen,w:16,h:16,color:\"blue.500\"})}),/*#__PURE__*/_jsxs(VStack,{spacing:4,children:[/*#__PURE__*/_jsx(Heading,{size:\"lg\",color:\"gray.800\",children:\"Welcome to Flashcard App! \\uD83C\\uDF93\"}),/*#__PURE__*/_jsx(Text,{color:\"gray.600\",fontSize:\"lg\",children:\"Choose from your organized flashcard sets\"})]}),availableSets.length>0&&/*#__PURE__*/_jsxs(Box,{w:\"100%\",textAlign:\"left\",children:[/*#__PURE__*/_jsxs(HStack,{justify:\"space-between\",mb:4,children:[/*#__PURE__*/_jsx(Text,{fontWeight:\"semibold\",color:\"gray.700\",fontSize:\"lg\",children:\"\\uD83D\\uDCC1 Available Flashcard Sets\"}),/*#__PURE__*/_jsx(Button,{size:\"sm\",variant:\"ghost\",leftIcon:/*#__PURE__*/_jsx(Icon,{as:RefreshCw}),onClick:scanForFlashcardSets,isLoading:isScanning,children:\"Refresh\"})]}),/*#__PURE__*/_jsx(SimpleGrid,{columns:{base:1,md:2},spacing:4,children:availableSets.map((set,index)=>/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:index*0.1},children:/*#__PURE__*/_jsx(Box,{p:4,borderWidth:\"1px\",borderColor:selectedSet===set.filename?\"blue.300\":\"gray.200\",bg:selectedSet===set.filename?\"blue.50\":\"transparent\",rounded:\"lg\",cursor:\"pointer\",_hover:{borderColor:\"blue.300\",bg:\"blue.50\"},onClick:()=>handleSetSelect(set.filename),transition:\"all 0.2s\",children:/*#__PURE__*/_jsxs(VStack,{align:\"start\",spacing:2,children:[/*#__PURE__*/_jsxs(HStack,{justify:\"space-between\",w:\"100%\",children:[/*#__PURE__*/_jsxs(HStack,{spacing:3,children:[/*#__PURE__*/_jsx(Icon,{as:FileText,color:\"blue.500\"}),/*#__PURE__*/_jsx(Text,{fontWeight:\"bold\",fontSize:\"md\",children:set.title})]}),selectedSet===set.filename&&/*#__PURE__*/_jsx(Badge,{colorScheme:\"blue\",variant:\"subtle\",children:\"Selected\"})]}),/*#__PURE__*/_jsx(Text,{fontSize:\"sm\",color:\"gray.600\",children:set.description}),/*#__PURE__*/_jsxs(HStack,{spacing:2,children:[/*#__PURE__*/_jsxs(Badge,{colorScheme:\"green\",variant:\"outline\",children:[set.card_count,\" cards\"]}),/*#__PURE__*/_jsx(Badge,{colorScheme:\"purple\",variant:\"outline\",children:set.category}),/*#__PURE__*/_jsx(Badge,{colorScheme:\"orange\",variant:\"outline\",children:set.difficulty})]})]})})},set.id))})]}),/*#__PURE__*/_jsx(Divider,{}),/*#__PURE__*/_jsxs(Box,{w:\"100%\",textAlign:\"left\",children:[/*#__PURE__*/_jsx(Text,{fontWeight:\"semibold\",color:\"gray.700\",mb:3,children:\"\\uD83D\\uDCE4 Upload New Flashcard Set\"}),/*#__PURE__*/_jsx(Box,{borderWidth:2,borderStyle:\"dashed\",borderColor:isDragOver?\"blue.500\":\"gray.300\",bg:isDragOver?\"blue.50\":\"transparent\",rounded:\"lg\",p:6,transition:\"all 0.2s\",_hover:{borderColor:\"gray.400\"},onDrop:handleDrop,onDragOver:handleDragOver,onDragLeave:handleDragLeave,children:/*#__PURE__*/_jsxs(VStack,{spacing:4,children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"jsonFile\",style:{cursor:'pointer'},children:/*#__PURE__*/_jsx(motion.div,{whileHover:{scale:1.05},whileTap:{scale:0.95},children:/*#__PURE__*/_jsx(Button,{colorScheme:\"brand\",size:\"lg\",leftIcon:/*#__PURE__*/_jsx(Icon,{as:Upload}),children:\"Choose JSON File\"})})}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",id:\"jsonFile\",accept:\".json\",style:{display:'none'},onChange:handleFileInput}),/*#__PURE__*/_jsx(Text,{fontSize:\"sm\",color:\"gray.500\",children:\"or drag and drop JSON file here\"})]})})]}),/*#__PURE__*/_jsx(AnimatePresence,{children:state.error&&/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:'auto'},exit:{opacity:0,height:0},style:{width:'100%'},children:/*#__PURE__*/_jsxs(Alert,{status:\"error\",rounded:\"lg\",children:[/*#__PURE__*/_jsx(AlertIcon,{}),/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsx(AlertTitle,{children:\"Error Loading File\"}),/*#__PURE__*/_jsx(AlertDescription,{children:state.error})]})]})})})]})})})});}","map":{"version":3,"names":["React","useCallback","useState","useEffect","useRef","motion","AnimatePresence","Box","VStack","HStack","Heading","Text","Button","Icon","Alert","AlertIcon","AlertTitle","AlertDescription","useToast","Badge","Divider","useColorModeValue","SimpleGrid","Modal","ModalOverlay","ModalContent","ModalHeader","ModalBody","ModalCloseButton","useDisclosure","Upload","FileText","FolderOpen","RefreshCw","Plus","useFlashcard","jsx","_jsx","jsxs","_jsxs","UploadSection","state","dispatch","isDragOver","setIsDragOver","availableSets","setAvailableSets","selectedSet","setSelectedSet","isScanning","setIsScanning","isOpen","onOpen","onClose","toast","selectedSetRef","bgColor","borderColor","scanForFlashcardSets","metadataResponse","fetch","ok","Error","concat","status","statusText","contentType","headers","get","includes","text","metadata","json","set","flashcard_sets","response","filename","fileContentType","push","error","length","current","title","description","message","duration","isClosable","loadSelectedSet","type","payload","data","flashcards","Array","isArray","setsMetadata","currentSet","find","errorMessage","handleFileUpload","file","name","endsWith","JSON","parse","handleDrop","e","preventDefault","files","dataTransfer","handleDragOver","handleDragLeave","handleFileInput","_e$target$files","target","handleSetSelect","position","bottom","right","zIndex","children","div","whileHover","scale","whileTap","colorScheme","size","rounded","leftIcon","as","onClick","boxShadow","pb","spacing","color","borderWidth","borderStyle","bg","p","transition","_hover","onDrop","onDragOver","onDragLeave","w","htmlFor","style","cursor","id","accept","display","onChange","fontSize","initial","opacity","height","animate","exit","width","shadow","mb","textAlign","h","y","delay","stiffness","justify","fontWeight","variant","isLoading","columns","base","md","map","index","x","align","card_count","category","difficulty"],"sources":["/Users/longl488/dev/tmp/flashcard/src/components/UploadSection.tsx"],"sourcesContent":["import React, { useCallback, useState, useEffect, useRef } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { \n  Box, \n  VStack, \n  HStack,\n  Heading, \n  Text, \n  Button, \n  Icon, \n  Alert, \n  AlertIcon, \n  AlertTitle, \n  AlertDescription,\n  useToast,\n  Badge,\n  Divider,\n  useColorModeValue,\n  SimpleGrid,\n  Modal,\n  ModalOverlay,\n  ModalContent,\n  ModalHeader,\n  ModalBody,\n  ModalCloseButton,\n  useDisclosure\n} from '@chakra-ui/react';\nimport { Upload, FileText, FolderOpen, RefreshCw, Plus } from 'lucide-react';\nimport { useFlashcard } from '../contexts/FlashcardContext';\n\ninterface FlashcardSet {\n  id: string;\n  filename: string;\n  title: string;\n  description: string;\n  category: string;\n  difficulty: string;\n  card_count: number;\n  created_date: string;\n  tags: string[];\n}\n\nexport function UploadSection() {\n  const { state, dispatch } = useFlashcard();\n  const [isDragOver, setIsDragOver] = useState(false);\n  const [availableSets, setAvailableSets] = useState<FlashcardSet[]>([]);\n  const [selectedSet, setSelectedSet] = useState<string>('');\n  const [isScanning, setIsScanning] = useState(false);\n  const { isOpen, onOpen, onClose } = useDisclosure();\n  const toast = useToast();\n  const selectedSetRef = useRef<string>('');\n  \n  const bgColor = useColorModeValue('white', 'gray.800');\n  const borderColor = useColorModeValue('gray.200', 'gray.700');\n\n  const scanForFlashcardSets = useCallback(async () => {\n    setIsScanning(true);\n    try {\n      // Load the metadata file to get organized flashcard sets\n      const metadataResponse = await fetch('/flashcard-data/sets-metadata.json');\n      if (!metadataResponse.ok) {\n        throw new Error(`Could not load flashcard sets metadata: ${metadataResponse.status} ${metadataResponse.statusText}`);\n      }\n      \n      // Check if the response is actually JSON\n      const contentType = metadataResponse.headers.get('content-type');\n      if (!contentType || !contentType.includes('application/json')) {\n        const text = await metadataResponse.text();\n        if (text.includes('<!DOCTYPE')) {\n          throw new Error('Received HTML instead of JSON. The flashcard-data files may not be accessible from the current server.');\n        }\n        throw new Error(`Expected JSON but received: ${contentType}`);\n      }\n      \n      const metadata = await metadataResponse.json();\n      const availableSets: FlashcardSet[] = [];\n      \n      // Check which files actually exist\n      for (const set of metadata.flashcard_sets) {\n        try {\n          const response = await fetch(`/flashcard-data/${set.filename}`);\n          if (response.ok) {\n            // Verify it's actually JSON\n            const fileContentType = response.headers.get('content-type');\n            if (fileContentType && fileContentType.includes('application/json')) {\n              availableSets.push(set);\n            }\n          }\n        } catch (error) {\n          // File not found or error checking file\n        }\n      }\n      \n      setAvailableSets(availableSets);\n      \n      // Auto-select the first set if available and no set is currently selected\n      if (availableSets.length > 0 && !selectedSetRef.current) {\n        setSelectedSet(availableSets[0].filename);\n        selectedSetRef.current = availableSets[0].filename;\n      }\n    } catch (error) {\n      setAvailableSets([]);\n      \n      // Show a more helpful error message\n      toast({\n        title: 'Flashcard Data Not Found',\n        description: error instanceof Error ? error.message : 'Could not load flashcard data. Please ensure the flashcard-data folder is accessible.',\n        status: 'warning',\n        duration: 8000,\n        isClosable: true,\n      });\n    } finally {\n      setIsScanning(false);\n    }\n  }, [toast]);\n\n  const loadSelectedSet = useCallback(async (filename: string) => {\n    if (!filename) return;\n\n    dispatch({ type: 'SET_LOADING', payload: true });\n    dispatch({ type: 'SET_ERROR', payload: null });\n\n    try {\n      // Load the actual JSON file from the flashcard-data folder\n      const response = await fetch(`/flashcard-data/${filename}`);\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n      \n      // Check if the response is actually JSON\n      const contentType = response.headers.get('content-type');\n      if (!contentType || !contentType.includes('application/json')) {\n        const text = await response.text();\n        if (text.includes('<!DOCTYPE')) {\n          throw new Error('Received HTML instead of JSON. The flashcard-data files may not be accessible from the current server.');\n        }\n        throw new Error(`Expected JSON but received: ${contentType}`);\n      }\n      \n      const data = await response.json();\n\n      if (!data.flashcards || !Array.isArray(data.flashcards)) {\n        throw new Error('Invalid JSON format: missing flashcards array');\n      }\n\n      if (data.flashcards.length === 0) {\n        throw new Error('No flashcards found in the JSON file');\n      }\n\n      dispatch({ type: 'SET_FLASHCARDS', payload: data.flashcards });\n      dispatch({ type: 'SET_METADATA', payload: data.metadata || {} });\n      \n      // Find and set the current set information\n      try {\n        const metadataResponse = await fetch('/flashcard-data/sets-metadata.json');\n        if (metadataResponse.ok) {\n          const setsMetadata = await metadataResponse.json();\n          const currentSet = setsMetadata.flashcard_sets.find((set: any) => set.filename === filename);\n          if (currentSet) {\n            dispatch({ type: 'SET_CURRENT_SET', payload: currentSet });\n          }\n        }\n      } catch (error) {\n        // Could not load set metadata\n      }\n      \n      toast({\n        title: 'Success!',\n        description: `Loaded ${data.flashcards.length} flashcards from ${filename}`,\n        status: 'success',\n        duration: 3000,\n        isClosable: true,\n      });\n    } catch (error) {\n      const errorMessage = `Failed to load ${filename}: ${error instanceof Error ? error.message : 'Unknown error'}`;\n      dispatch({ type: 'SET_ERROR', payload: errorMessage });\n      \n      toast({\n        title: 'Error loading file',\n        description: errorMessage,\n        status: 'error',\n        duration: 5000,\n        isClosable: true,\n      });\n    } finally {\n      dispatch({ type: 'SET_LOADING', payload: false });\n    }\n  }, [dispatch, toast]);\n\n  // Scan for flashcard sets on component mount\n  useEffect(() => {\n    scanForFlashcardSets();\n  }, [scanForFlashcardSets]);\n\n  // Load selected set when it changes\n  useEffect(() => {\n    if (selectedSet) {\n      loadSelectedSet(selectedSet);\n    }\n  }, [selectedSet, loadSelectedSet]);\n\n  const handleFileUpload = useCallback(async (file: File) => {\n    if (!file.name.endsWith('.json')) {\n      toast({\n        title: 'Invalid file type',\n        description: 'Please select a JSON file',\n        status: 'error',\n        duration: 5000,\n        isClosable: true,\n      });\n      return;\n    }\n\n    dispatch({ type: 'SET_LOADING', payload: true });\n    dispatch({ type: 'SET_ERROR', payload: null });\n\n    try {\n      const text = await file.text();\n      const data = JSON.parse(text);\n\n      if (!data.flashcards || !Array.isArray(data.flashcards)) {\n        throw new Error('Invalid JSON format: missing flashcards array');\n      }\n\n      if (data.flashcards.length === 0) {\n        throw new Error('No flashcards found in the JSON file');\n      }\n\n      dispatch({ type: 'SET_FLASHCARDS', payload: data.flashcards });\n      dispatch({ type: 'SET_METADATA', payload: data.metadata || {} });\n      \n      toast({\n        title: 'Success!',\n        description: `Loaded ${data.flashcards.length} flashcards from ${file.name}`,\n        status: 'success',\n        duration: 3000,\n        isClosable: true,\n      });\n      \n      onClose(); // Close the upload modal\n    } catch (error) {\n      const errorMessage = `Failed to load JSON file: ${error instanceof Error ? error.message : 'Unknown error'}`;\n      dispatch({ type: 'SET_ERROR', payload: errorMessage });\n      \n      toast({\n        title: 'Error loading file',\n        description: errorMessage,\n        status: 'error',\n        duration: 5000,\n        isClosable: true,\n      });\n    }\n  }, [dispatch, toast, onClose]);\n\n  const handleDrop = useCallback((e: React.DragEvent) => {\n    e.preventDefault();\n    setIsDragOver(false);\n    \n    const files = e.dataTransfer.files;\n    if (files.length > 0) {\n      handleFileUpload(files[0]);\n    }\n  }, [handleFileUpload]);\n\n  const handleDragOver = useCallback((e: React.DragEvent) => {\n    e.preventDefault();\n    setIsDragOver(true);\n  }, []);\n\n  const handleDragLeave = useCallback((e: React.DragEvent) => {\n    e.preventDefault();\n    setIsDragOver(false);\n  }, []);\n\n  const handleFileInput = useCallback((e: React.ChangeEvent<HTMLInputElement>) => {\n    const file = e.target.files?.[0];\n    if (file) {\n      handleFileUpload(file);\n    }\n  }, [handleFileUpload]);\n\n  const handleSetSelect = useCallback((filename: string) => {\n    setSelectedSet(filename);\n    selectedSetRef.current = filename;\n    loadSelectedSet(filename);\n  }, [loadSelectedSet]);\n\n  // If we have flashcards loaded, show a minimal upload button\n  if (state.flashcards.length > 0) {\n    return (\n      <Box position=\"fixed\" bottom={6} right={6} zIndex={1000}>\n        <motion.div\n          whileHover={{ scale: 1.05 }}\n          whileTap={{ scale: 0.95 }}\n        >\n          <Button\n            colorScheme=\"brand\"\n            size=\"lg\"\n            rounded=\"full\"\n            leftIcon={<Icon as={Plus} />}\n            onClick={onOpen}\n            boxShadow=\"lg\"\n          >\n            Add More Sets\n          </Button>\n        </motion.div>\n\n        {/* Upload Modal */}\n        <Modal isOpen={isOpen} onClose={onClose} size=\"lg\">\n          <ModalOverlay />\n          <ModalContent>\n            <ModalHeader>üì§ Upload New Flashcard Set</ModalHeader>\n            <ModalCloseButton />\n            <ModalBody pb={6}>\n              <VStack spacing={6}>\n                <Text color=\"gray.600\">\n                  Upload a JSON file created by the PDF converter tool\n                </Text>\n\n                <Box\n                  borderWidth={2}\n                  borderStyle=\"dashed\"\n                  borderColor={isDragOver ? \"blue.500\" : \"gray.300\"}\n                  bg={isDragOver ? \"blue.50\" : \"transparent\"}\n                  rounded=\"lg\"\n                  p={8}\n                  transition=\"all 0.2s\"\n                  _hover={{ borderColor: \"gray.400\" }}\n                  onDrop={handleDrop}\n                  onDragOver={handleDragOver}\n                  onDragLeave={handleDragLeave}\n                  w=\"100%\"\n                >\n                  <VStack spacing={4}>\n                    <label htmlFor=\"jsonFile\" style={{ cursor: 'pointer' }}>\n                      <motion.div\n                        whileHover={{ scale: 1.05 }}\n                        whileTap={{ scale: 0.95 }}\n                      >\n                        <Button \n                          colorScheme=\"brand\" \n                          size=\"lg\"\n                          leftIcon={<Icon as={Upload} />}\n                        >\n                          Choose JSON File\n                        </Button>\n                      </motion.div>\n                    </label>\n                    \n                    <input\n                      type=\"file\"\n                      id=\"jsonFile\"\n                      accept=\".json\"\n                      style={{ display: 'none' }}\n                      onChange={handleFileInput}\n                    />\n                    \n                    <Text fontSize=\"sm\" color=\"gray.500\">\n                      or drag and drop JSON file here\n                    </Text>\n                  </VStack>\n                </Box>\n\n                {/* Error Display */}\n                <AnimatePresence>\n                  {state.error && (\n                    <motion.div\n                      initial={{ opacity: 0, height: 0 }}\n                      animate={{ opacity: 1, height: 'auto' }}\n                      exit={{ opacity: 0, height: 0 }}\n                      style={{ width: '100%' }}\n                    >\n                      <Alert status=\"error\" rounded=\"lg\">\n                        <AlertIcon />\n                        <Box>\n                          <AlertTitle>Error Loading File</AlertTitle>\n                          <AlertDescription>{state.error}</AlertDescription>\n                        </Box>\n                      </Alert>\n                    </motion.div>\n                  )}\n                </AnimatePresence>\n              </VStack>\n            </ModalBody>\n          </ModalContent>\n        </Modal>\n      </Box>\n    );\n  }\n\n  // If we're still scanning for files, show a loading state\n  if (isScanning) {\n    return (\n      <Box \n        bg={bgColor} \n        rounded=\"lg\" \n        shadow=\"lg\" \n        p={8} \n        mb={8}\n        borderWidth=\"1px\"\n        borderColor={borderColor}\n        textAlign=\"center\"\n      >\n        <VStack spacing={4}>\n          <Icon as={FolderOpen} w={12} h={12} color=\"blue.500\" />\n          <Text fontSize=\"lg\" color=\"gray.600\">\n            Loading your flashcard sets...\n          </Text>\n        </VStack>\n      </Box>\n    );\n  }\n\n  // If no flashcards are loaded, show the full upload interface\n  return (\n    <AnimatePresence>\n      <motion.div\n        initial={{ opacity: 0, y: 20 }}\n        animate={{ opacity: 1, y: 0 }}\n        exit={{ opacity: 0, y: -20 }}\n        transition={{ duration: 0.5 }}\n        style={{ width: '100%' }}\n      >\n        <Box \n          bg={bgColor} \n          rounded=\"lg\" \n          shadow=\"lg\" \n          p={8} \n          mb={8}\n          borderWidth=\"1px\"\n          borderColor={borderColor}\n        >\n          <VStack spacing={6} textAlign=\"center\">\n            <motion.div\n              initial={{ scale: 0 }}\n              animate={{ scale: 1 }}\n              transition={{ delay: 0.2, type: \"spring\", stiffness: 200 }}\n            >\n              <Icon as={FolderOpen} w={16} h={16} color=\"blue.500\" />\n            </motion.div>\n            \n            <VStack spacing={4}>\n              <Heading size=\"lg\" color=\"gray.800\">\n                Welcome to Flashcard App! üéì\n              </Heading>\n              \n              <Text color=\"gray.600\" fontSize=\"lg\">\n                Choose from your organized flashcard sets\n              </Text>\n            </VStack>\n\n            {/* Available Sets Section */}\n            {availableSets.length > 0 && (\n              <Box w=\"100%\" textAlign=\"left\">\n                <HStack justify=\"space-between\" mb={4}>\n                  <Text fontWeight=\"semibold\" color=\"gray.700\" fontSize=\"lg\">\n                    üìÅ Available Flashcard Sets\n                  </Text>\n                  <Button\n                    size=\"sm\"\n                    variant=\"ghost\"\n                    leftIcon={<Icon as={RefreshCw} />}\n                    onClick={scanForFlashcardSets}\n                    isLoading={isScanning}\n                  >\n                    Refresh\n                  </Button>\n                </HStack>\n                \n                <SimpleGrid columns={{ base: 1, md: 2 }} spacing={4}>\n                  {availableSets.map((set, index) => (\n                    <motion.div\n                      key={set.id}\n                      initial={{ opacity: 0, x: -20 }}\n                      animate={{ opacity: 1, x: 0 }}\n                      transition={{ delay: index * 0.1 }}\n                    >\n                      <Box\n                        p={4}\n                        borderWidth=\"1px\"\n                        borderColor={selectedSet === set.filename ? \"blue.300\" : \"gray.200\"}\n                        bg={selectedSet === set.filename ? \"blue.50\" : \"transparent\"}\n                        rounded=\"lg\"\n                        cursor=\"pointer\"\n                        _hover={{ \n                          borderColor: \"blue.300\",\n                          bg: \"blue.50\"\n                        }}\n                        onClick={() => handleSetSelect(set.filename)}\n                        transition=\"all 0.2s\"\n                      >\n                        <VStack align=\"start\" spacing={2}>\n                          <HStack justify=\"space-between\" w=\"100%\">\n                            <HStack spacing={3}>\n                              <Icon as={FileText} color=\"blue.500\" />\n                              <Text fontWeight=\"bold\" fontSize=\"md\">\n                                {set.title}\n                              </Text>\n                            </HStack>\n                            {selectedSet === set.filename && (\n                              <Badge colorScheme=\"blue\" variant=\"subtle\">\n                                Selected\n                              </Badge>\n                            )}\n                          </HStack>\n                          \n                          <Text fontSize=\"sm\" color=\"gray.600\">\n                            {set.description}\n                          </Text>\n                          \n                          <HStack spacing={2}>\n                            <Badge colorScheme=\"green\" variant=\"outline\">\n                              {set.card_count} cards\n                            </Badge>\n                            <Badge colorScheme=\"purple\" variant=\"outline\">\n                              {set.category}\n                            </Badge>\n                            <Badge colorScheme=\"orange\" variant=\"outline\">\n                              {set.difficulty}\n                            </Badge>\n                          </HStack>\n                        </VStack>\n                      </Box>\n                    </motion.div>\n                  ))}\n                </SimpleGrid>\n              </Box>\n            )}\n\n            {/* Divider */}\n            <Divider />\n\n            {/* Upload New File Section */}\n            <Box w=\"100%\" textAlign=\"left\">\n              <Text fontWeight=\"semibold\" color=\"gray.700\" mb={3}>\n                üì§ Upload New Flashcard Set\n              </Text>\n              \n              <Box\n                borderWidth={2}\n                borderStyle=\"dashed\"\n                borderColor={isDragOver ? \"blue.500\" : \"gray.300\"}\n                bg={isDragOver ? \"blue.50\" : \"transparent\"}\n                rounded=\"lg\"\n                p={6}\n                transition=\"all 0.2s\"\n                _hover={{ borderColor: \"gray.400\" }}\n                onDrop={handleDrop}\n                onDragOver={handleDragOver}\n                onDragLeave={handleDragLeave}\n              >\n                <VStack spacing={4}>\n                  <label htmlFor=\"jsonFile\" style={{ cursor: 'pointer' }}>\n                    <motion.div\n                      whileHover={{ scale: 1.05 }}\n                      whileTap={{ scale: 0.95 }}\n                    >\n                      <Button \n                        colorScheme=\"brand\" \n                        size=\"lg\"\n                        leftIcon={<Icon as={Upload} />}\n                      >\n                        Choose JSON File\n                      </Button>\n                    </motion.div>\n                  </label>\n                  \n                  <input\n                    type=\"file\"\n                    id=\"jsonFile\"\n                    accept=\".json\"\n                    style={{ display: 'none' }}\n                    onChange={handleFileInput}\n                  />\n                  \n                  <Text fontSize=\"sm\" color=\"gray.500\">\n                    or drag and drop JSON file here\n                  </Text>\n                </VStack>\n              </Box>\n            </Box>\n\n            {/* Error Display */}\n            <AnimatePresence>\n              {state.error && (\n                <motion.div\n                  initial={{ opacity: 0, height: 0 }}\n                  animate={{ opacity: 1, height: 'auto' }}\n                  exit={{ opacity: 0, height: 0 }}\n                  style={{ width: '100%' }}\n                >\n                  <Alert status=\"error\" rounded=\"lg\">\n                    <AlertIcon />\n                    <Box>\n                      <AlertTitle>Error Loading File</AlertTitle>\n                      <AlertDescription>{state.error}</AlertDescription>\n                    </Box>\n                  </Alert>\n                </motion.div>\n              )}\n            </AnimatePresence>\n          </VStack>\n        </Box>\n      </motion.div>\n    </AnimatePresence>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}